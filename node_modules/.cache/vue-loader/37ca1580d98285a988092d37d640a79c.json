{"remainingRequest":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pan/Dev/maraichage/src/views/Theoretical.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/pan/Dev/maraichage/src/views/Theoretical.vue","mtime":1626359423962},{"path":"/home/pan/Dev/maraichage/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYWctYm9keS12aWV3cG9ydCB7CiAgICBvdmVyZmxvdy15OiBzY3JvbGwgIWltcG9ydGFudDsKfSAgCg=="},{"version":3,"sources":["Theoretical.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4LA;AACA;AACA","file":"Theoretical.vue","sourceRoot":"src/views","sourcesContent":["<template >\n  \n  <div style=\"height: 100%\">\n    <div style=\"display: flex; flex-direction: row; height: 100%\">\n      <div style=\"overflow: hidden; flex-grow: 1\">\n        <ag-grid-vue\n          style=\"width: 100%; height: 100%\"\n          class=\"ag-theme-alpine\"\n          id=\"myGrid\"\n          :gridOptions=\"gridOptions\"\n          :rowData=\"rowData\"\n          :columnDefs=\"columnDefs\"\n          :modules=\"modules\"\n        ></ag-grid-vue>\n      </div>\n    </div>\n \n  </div>\n</template>\n\n<script>\nimport { AgGridVue } from \"@ag-grid-community/vue\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-alpine.css\";\nimport { AllCommunityModules } from \"@ag-grid-community/all-modules\";\nimport axios from \"axios\";\n\naxios.defaults.baseURL = \"http://localhost:8081/\";\n\nexport default {\n  data() {\n    return {\n      gridOptions: null,\n      gridApi: null,\n      columnApi: null,\n      rowData: null,\n      columnDefs: null,\n      modules: AllCommunityModules,\n    };\n  },\n\n  components: {\n    AgGridVue,\n  },\n  methods: {\n    onGridReady(params) {\n      params.api.sizeColumnsToFit();\n      window.addEventListener(\"resize\", function () {\n        setTimeout(function () {\n          params.api.sizeColumnsToFit();\n        });\n      });\n\n      params.api.sizeColumnsToFit();\n    }\n  },\n  mounted() {\n    this.gridApi = this.gridOptions.api;\n    this.gridColumnApi = this.gridOptions.columnApi;\n  },\n  beforeMount() {\n    this.gridOptions = {\n      onCellValueChanged: function(event)  {\n      console.log(event.data);      \n      axios.put(\"/products/\" + event.data.id, JSON.stringify({\n        collectivityPrice : event.data.collectivityPrice,\n        groceryPrice : event.data.groceryPrice,\n        id : event.data.id,\n        name : event.data.name,\n        packaging : event.data.packaging,\n        quantities : event.data.quantities,\n        restaurantPrice : event.data.restaurantPrice\n\n      })\n       ).then(response => this.requests = response.data);\n     \n    }\n    }\n    this.columnDefs = [\n      {\n        headerName: \"LÃ©gumes\",\n        field: \"name\",\n        width: 200,\n        sortable: true,\n        pinned: \"left\",\n      },\n      { field: \"name\", width: 100, pinned: \"left\", \n        valueGetter: function (params) {\n         if(params.data.packaging.name != null){\n           return params.data.packaging.name;           \n         }\n        }      \n         },\n      { field: \"groceryPrice\", width: 100, pinned: \"left\" },\n      { field: \"restaurantPrice\", width: 100, pinned: \"left\" },\n      { field: \"collectivityPrice\", width: 100, pinned: \"left\" },\n      \n      {\n        field: \"quantity1\",\n        editable: true,\n        valueParser: numberParser,\n        valueGetter: function (params) {\n         if(params.data.quantities[0] != null){\n           return params.data.quantities[0].quantity1;           \n         }          \n        },\n        valueSetter: function (params) {\n       \n          var newValInt = parseInt(params.newValue);\n          var valueChanged = params.data.b !== newValInt;\n          if (valueChanged) {\n            params.data.quantities[0].quantity1 = newValInt;\n          }\n          return valueChanged;\n        },\n      },\n      {\n        field: \"quantity2\",\n        editable: true,\n        valueParser: numberParser,\n        valueGetter: function (params) {\n         if(params.data.quantities[0] != null){\n           return params.data.quantities[0].quantity2;           \n         }          \n        },\n        valueSetter: function (params) {\n       \n          var newValInt = parseInt(params.newValue);\n          var valueChanged = params.data.b !== newValInt;\n          if (valueChanged) {\n            params.data.quantities[0].quantity1 = newValInt;\n          }\n          return valueChanged;\n        },\n      },\n      { field: \"month3\" },\n      { field: \"month4\" },\n      { field: \"month5\" },\n      { field: \"month6\" },\n      { field: \"month7\" },\n      { field: \"month8\" },\n      { field: \"month9\" },\n      { field: \"month10\" },\n      { field: \"month11\" },\n      { field: \"month12\" },\n      { field: \"month13\" },\n      { field: \"month14\" },\n      { field: \"month15\" },\n      { field: \"month16\" },\n      { field: \"month17\" },\n      { field: \"month18\" },\n      { field: \"month19\" },\n      { field: \"month20\" },\n      { field: \"month21\" },\n      { field: \"month22\" },\n      { field: \"month23\" },\n      { field: \"month24\" },\n      { field: \"month25\" },\n      { field: \"month26\" },\n      { field: \"month27\" },\n      { field: \"month28\" },\n      { field: \"month29\" },\n      { field: \"month30\" },\n      { field: \"month31\" },\n      { field: \"month32\" },\n      { field: \"month33\" },\n      { field: \"month34\" },\n      { field: \"month35\" },\n      { field: \"month36\" },\n      { field: \"month37\" },\n      { field: \"month38\" },\n      { field: \"month39\" },\n      { field: \"month40\" },\n    ];\n    this.defaultColDef = { resizable: true };\n    //this.fetchProducts();\n\n    axios\n      .get(\"/products\")\n      .then((response) => (this.products = response.data))\n      .then((rowData) => (this.rowData = rowData));\n  },\n};\nwindow.numberParser = function numberParser(params) {\n  return Number(params.newValue);\n};\n</script>\n<style>\n.ag-body-viewport {\n    overflow-y: scroll !important;\n}  \n</style>\n"]}]}