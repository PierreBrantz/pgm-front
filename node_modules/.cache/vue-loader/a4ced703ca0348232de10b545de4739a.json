{"remainingRequest":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pan/Dev/maraichage/src/views/AddProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pan/Dev/maraichage/src/views/AddProduct.vue","mtime":1634058734992},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IFtdLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZFByb2R1Y3Q6IG51bGwsCiAgICAgIGZvcm06IFt7IG5hbWU6ICIiLCBxdWFudGl0eTogMCwgY29uZGl0aW9uaW5nOiAiIiwgbmJCeUNvbmRpdGlvbmluZzogMCwgd2VpZ2h0OiAwLCB1bml0Rm9yU2FsZTogIiIsICBwcmljZTogMCwgY29uZGl0aW9uaW5nQnlWZWdldGFibGU6ICIiLCBwZXJjZW50QnJ1dENvbmRpdGlvbmluZzogIiIsIHdvcmtDb3N0QnlDb25kaXRpb25pbmc6ICIiLCBkZWxpdmVyeVRpbWVMaW1pdDogIiIgIH1dLAogICAgICBwcm9kdWN0czogW3sgdmFsdWU6IG51bGwsIHRleHQ6ICJDaG9pc2lyIHVuIHByb2R1aXQuLi4iIH1dLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZldGNoUHJvZHVjdHMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGZldGNoUHJvZHVjdHMoKSB7CiAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCBheGlvcwogICAgICAgIC5nZXQoIi9wcm9kdWN0cyIpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiAodGhpcy5yZXF1ZXN0cyA9IHJlc3BvbnNlLmRhdGEpKTsKICAgICAganNvbi5mb3JFYWNoKChlbGVtZW50KSA9PgogICAgICAgIHRoaXMucHJvZHVjdHMucHVzaCh7IHZhbHVlOiBlbGVtZW50LmlkLCB0ZXh0OiBlbGVtZW50Lm5hbWUgfSkKICAgICAgKTsKICAgIH0sCiAgICBhc3luYyBjaGFuZ2VQcm9kdWN0KGFyZykgewogICAgICBjb25zdCBqc29uID0gYXdhaXQgYXhpb3MKICAgICAgICAuZ2V0KCIvcHJvZHVjdHMvIiArIGFyZykKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+ICh0aGlzLnJlcXVlc3RzID0gcmVzcG9uc2UuZGF0YSkpOwogICAgICB0aGlzLmZvcm0gPSBqc29uOwogICAgfSwKICAgIG9uU3VibWl0KGV2ZW50KSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoCiAgICAgICAgICAiL3Byb2R1Y3RzIiwgIAogICAgICAgICAgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICBpZDogdGhpcy5mb3JtLmlkLAogICAgICAgICAgICBuYW1lOiB0aGlzLmZvcm0ubmFtZSwKICAgICAgICAgICAgZmlyc3ROYW1lOiB0aGlzLmZvcm0uZmlyc3ROYW1lLAogICAgICAgICAgICBhYnI6IHRoaXMuZm9ybS5hYnIsCiAgICAgICAgICAgIGNvbXBhbnk6IHRoaXMuZm9ybS5jb21wYW55LAogICAgICAgICAgICBudW1iZXI6IHRoaXMuZm9ybS5udW1iZXIsCiAgICAgICAgICAgIHJvYWQ6IHRoaXMuZm9ybS5yb2FkLAogICAgICAgICAgICBwb3N0Q29kZTogdGhpcy5mb3JtLnBvc3RDb2RlLAogICAgICAgICAgICB0b3duOiB0aGlzLmZvcm0udG93biwKICAgICAgICAgICAgcGhvbmU6IHRoaXMuZm9ybS5waG9uZSwKICAgICAgICAgICAgZ3NtOiB0aGlzLmZvcm0uZ3NtLAogICAgICAgICAgICBtYWlsOiB0aGlzLmZvcm0ubWFpbCwKICAgICAgICAgICAgYWNjb3VudDogdGhpcy5mb3JtLmFjY291bnQsCiAgICAgICAgICAgIHR2YTogdGhpcy5mb3JtLnR2YSwKICAgICAgICAgIH0pCiAgICAgICAgKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gKHRoaXMucmVxdWVzdHMgPSByZXNwb25zZS5kYXRhKSk7CiAgICB9LAoKICAgIGRlbGV0ZVByb2R1Y3QoKSB7CiAgICAgIGF4aW9zLmRlbGV0ZSgiL3Byb2R1Y2Vycy8iICsgdGhpcy5zZWxlY3RlZFByb2R1Y2VyKTsKICAgICAgdGhpcy5wcm9kdWNlcnMgPSBbeyB2YWx1ZTogbnVsbCwgdGV4dDogIkNob2lzaXIgdW4gcHJvZHVjdGV1ci4uLiIgfV07CiAgICAgIHRoaXMuZm9ybSA9IFsKICAgICAgICB7CiAgICAgICAgICBpZDogIiIsCiAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgIGZpcnN0TmFtZTogIiIsCiAgICAgICAgICBhYnI6ICIiLAogICAgICAgICAgY29tcGFueTogIiIsCiAgICAgICAgICBudW1iZXI6ICIiLAogICAgICAgICAgcm9hZDogIiIsCiAgICAgICAgICBwb3N0Q29kZTogIiIsCiAgICAgICAgICB0b3duOiAiIiwKICAgICAgICAgIHBob25lOiAiIiwKICAgICAgICAgIGdzbTogIiIsCiAgICAgICAgICBtYWlsOiAiIiwKICAgICAgICAgIGFjY291bnQ6ICIiLAogICAgICAgICAgdHZhOiAiIiwKICAgICAgICB9LAogICAgICBdOwogICAgICB0aGlzLmZldGNoUHJvZHVjZXJzKCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["AddProduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddProduct.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <b-container fluid>\n    <b-row\n      ><b-col cols=\"3\">\n        <b-form-select\n          v-model=\"selectedProduct\"\n          :options=\"products\"\n          v-on:change=\"changeProduct\"\n          class=\"m-2\"\n        ></b-form-select>\n      </b-col>\n      <b-col cols=\"3\">\n        <b-icon\n          @click=\"deleteProduct\"\n          variant=\"danger\"\n          icon=\"trash\"\n          scale=\"1.5\"\n          aria-hidden=\"true\"\n          class=\"m-3\"\n        ></b-icon>\n      </b-col>\n    </b-row>\n    <b-form @submit=\"onSubmit\">\n      <b-row class=\"m-1\">\n        <b-col sm=\"3\">\n          <label>Type de conditionnement :</label>\n        </b-col>\n        <b-col sm=\"9\">\n          <b-form-input\n            id=\"conditioningId\"\n            v-model=\"form.conditioning\"\n            size=\"sm\"\n          ></b-form-input>\n        </b-col>\n      </b-row>\n      <b-row class=\"m-1\">\n        <b-col sm=\"3\">\n          <label>Nombre d'unité par conditionnement :</label>\n        </b-col>\n        <b-col sm=\"9\">\n          <b-form-input\n            id=\"nbByConditioningId\"\n            v-model=\"form.nbByConditioning\"\n            size=\"sm\"\n          ></b-form-input>\n        </b-col>\n      </b-row>\n      <b-row class=\"m-1\">\n        <b-col sm=\"3\">\n          <label>Poids (par unité) :</label>\n        </b-col>\n        <b-col sm=\"9\">\n          <b-form-input\n            id=\"weightId\"\n            v-model=\"form.weight\"\n            size=\"sm\"\n          ></b-form-input>\n        </b-col>\n      </b-row>\n      <b-row class=\"m-1\">\n        <b-col sm=\"3\">\n          <label>Vendu au kg ou à la pièce :</label>\n        </b-col>\n        <b-col sm=\"9\">\n          <b-form-input\n            id=\"unitForSaleId\"\n            v-model=\"form.unitForSale\"\n            size=\"sm\"\n          ></b-form-input>\n        </b-col>\n      </b-row>\n      <b-row class=\"m-1\">\n        <b-col sm=\"3\">\n          <label>Prix d'achat :</label>\n        </b-col>\n        <b-col sm=\"9\">\n          <b-form-input\n            id=\"priceId\"\n            v-model=\"form.price\"\n            size=\"sm\"\n          ></b-form-input>\n        </b-col>\n      </b-row>\n      <b-row class=\"m-1\">\n        <b-col sm=\"3\">\n          <label>Conditionnement légumerie :</label>\n        </b-col>\n        <b-col sm=\"9\">\n          <b-form-input\n            id=\"conditioningByVegetableId\"\n            v-model=\"form.conditioningByVegetable\"\n            size=\"sm\"\n          ></b-form-input>\n        </b-col>\n      </b-row>\n       <b-row class=\"m-1\">\n        <b-col sm=\"3\">\n          <label>Ratio légume brut/conditionné :</label>\n        </b-col>\n        <b-col sm=\"9\">\n          <b-form-input\n            id=\"percentBrutConditioningId\"\n            v-model=\"form.percentBrutConditioning\"\n            size=\"sm\"\n          ></b-form-input>\n        </b-col>\n      </b-row>\n      <b-row class=\"m-1\">\n        <b-col sm=\"3\">\n          <label>Coût du travail par conditionnement :</label>\n        </b-col>\n        <b-col sm=\"9\">\n          <b-form-input\n            id=\"workCostByConditioningId\"\n            v-model=\"form.workCostByConditioning\"\n            size=\"sm\"\n          ></b-form-input>\n        </b-col>\n      </b-row>\n      <b-row class=\"m-1\">\n        <b-col sm=\"3\">\n          <label>Délai de livraison :</label>\n        </b-col>\n        <b-col sm=\"9\">\n          <b-form-input\n            id=\"deliveryTimeLimitId\"\n            v-model=\"form.deliveryTimeLimit\"\n            size=\"sm\"\n          ></b-form-input>\n        </b-col>\n      </b-row>\n\n      <b-button class=\"m-3\" type=\"submit\" variant=\"primary\">Sauver</b-button>\n    </b-form>\n  </b-container>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  components: {},\n  props: [],\n  data() {\n    return {\n      selectedProduct: null,\n      form: [{ name: \"\", quantity: 0, conditioning: \"\", nbByConditioning: 0, weight: 0, unitForSale: \"\",  price: 0, conditioningByVegetable: \"\", percentBrutConditioning: \"\", workCostByConditioning: \"\", deliveryTimeLimit: \"\"  }],\n      products: [{ value: null, text: \"Choisir un produit...\" }],\n    };\n  },\n  mounted() {\n    this.fetchProducts();\n  },\n  methods: {\n    async fetchProducts() {\n      const json = await axios\n        .get(\"/products\")\n        .then((response) => (this.requests = response.data));\n      json.forEach((element) =>\n        this.products.push({ value: element.id, text: element.name })\n      );\n    },\n    async changeProduct(arg) {\n      const json = await axios\n        .get(\"/products/\" + arg)\n        .then((response) => (this.requests = response.data));\n      this.form = json;\n    },\n    onSubmit(event) {\n      axios\n        .post(\n          \"/products\",  \n          JSON.stringify({\n            id: this.form.id,\n            name: this.form.name,\n            firstName: this.form.firstName,\n            abr: this.form.abr,\n            company: this.form.company,\n            number: this.form.number,\n            road: this.form.road,\n            postCode: this.form.postCode,\n            town: this.form.town,\n            phone: this.form.phone,\n            gsm: this.form.gsm,\n            mail: this.form.mail,\n            account: this.form.account,\n            tva: this.form.tva,\n          })\n        )\n        .then((response) => (this.requests = response.data));\n    },\n\n    deleteProduct() {\n      axios.delete(\"/producers/\" + this.selectedProducer);\n      this.producers = [{ value: null, text: \"Choisir un producteur...\" }];\n      this.form = [\n        {\n          id: \"\",\n          name: \"\",\n          firstName: \"\",\n          abr: \"\",\n          company: \"\",\n          number: \"\",\n          road: \"\",\n          postCode: \"\",\n          town: \"\",\n          phone: \"\",\n          gsm: \"\",\n          mail: \"\",\n          account: \"\",\n          tva: \"\",\n        },\n      ];\n      this.fetchProducers();\n    },\n  },\n};\n</script>\n\n<style>\n</style>"]}]}