{"remainingRequest":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pan/Dev/maraichage/src/views/AddProducer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pan/Dev/maraichage/src/views/AddProducer.vue","mtime":1633508399111},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiBbXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogW3sgaWQgOiAiIiwgbmFtZTogIiIsIGZpcnN0TmFtZTogIiIsIGFicjogIiIsIGNvbXBhbnk6ICIiLCBudW1iZXI6ICIiLCByb2FkOiAiIiwgcG9zdENvZGU6ICIiLCB0b3duOiAiIiwgcGhvbmU6ICIiLGdzbTogIiIsICBtYWlsOiAiIiwgYWNjb3VudDogIiIsIHR2YTogIiIgfV0sCiAgICAgIHNlbGVjdGVkUHJvZHVjZXI6IG51bGwsCiAgICAgIHByb2R1Y2VyczogW3sgdmFsdWU6IG51bGwsIHRleHQ6ICJDaG9pc2lyIHVuIHByb2R1Y3RldXIuLi4iIH1dCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hQcm9kdWNlcnMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGZldGNoUHJvZHVjZXJzKCkgewogICAgICBjb25zdCBqc29uID0gYXdhaXQgYXhpb3MKICAgICAgICAuZ2V0KCIvcHJvZHVjZXJzIikKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+ICh0aGlzLnJlcXVlc3RzID0gcmVzcG9uc2UuZGF0YSkpOwogICAgICBqc29uLmZvckVhY2goKGVsZW1lbnQpID0+CiAgICAgICAgdGhpcy5wcm9kdWNlcnMucHVzaCh7IHZhbHVlOiBlbGVtZW50LmlkLCB0ZXh0OiBlbGVtZW50LmFiciB9KQogICAgICApOwogICAgfSwKICAgIGFzeW5jIGNoYW5nZVByb2R1Y2VyKGFyZykgewogICAgICBjb25zdCBqc29uID0gYXdhaXQgYXhpb3MKICAgICAgICAuZ2V0KCIvcHJvZHVjZXJzLyIgKyBhcmcpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiAodGhpcy5yZXF1ZXN0cyA9IHJlc3BvbnNlLmRhdGEpKTsKICAgICAgdGhpcy5mb3JtPSBqc29uOyAgICAgICAgCiAgICB9LAogICAgb25TdWJtaXQoZXZlbnQpIHsgICAgICAKICAgCiAgICAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAiL3Byb2R1Y2VycyIsCiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICBpZDogdGhpcy5mb3JtLmlkLAogICAgICAgICAgICAgIG5hbWUgOiB0aGlzLmZvcm0ubmFtZSwKICAgICAgICAgICAgICBmaXJzdE5hbWUgOiB0aGlzLmZvcm0uZmlyc3ROYW1lLAogICAgICAgICAgICAgIGFiciA6IHRoaXMuZm9ybS5hYnIsCiAgICAgICAgICAgICAgY29tcGFueSA6IHRoaXMuZm9ybS5jb21wYW55LAogICAgICAgICAgICAgIG51bWJlciA6IHRoaXMuZm9ybS5udW1iZXIsCiAgICAgICAgICAgICAgcm9hZCA6IHRoaXMuZm9ybS5yb2FkLAogICAgICAgICAgICAgIHBvc3RDb2RlIDogdGhpcy5mb3JtLnBvc3RDb2RlLAogICAgICAgICAgICAgIHRvd24gOiB0aGlzLmZvcm0udG93biwKICAgICAgICAgICAgICBwaG9uZSA6IHRoaXMuZm9ybS5waG9uZSwKICAgICAgICAgICAgICBnc20gOiB0aGlzLmZvcm0uZ3NtLAogICAgICAgICAgICAgIG1haWwgOiB0aGlzLmZvcm0ubWFpbCwKICAgICAgICAgICAgICBhY2NvdW50IDogdGhpcy5mb3JtLmFjY291bnQsCiAgICAgICAgICAgICAgdHZhIDogdGhpcy5mb3JtLnR2YQogICAgICAgICAgICB9KQogICAgICAgICAgKQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiAodGhpcy5yZXF1ZXN0cyA9IHJlc3BvbnNlLmRhdGEpKTsKCiAKICAgIH0sCgogICAgZGVsZXRlUHJvZHVjZXIoKXsKICAgICAgYXhpb3MuZGVsZXRlKCIvcHJvZHVjZXJzLyIgKyB0aGlzLnNlbGVjdGVkUHJvZHVjZXIpOwogICAgICB0aGlzLnByb2R1Y2VycyA9IFt7IHZhbHVlOiBudWxsLCB0ZXh0OiAiQ2hvaXNpciB1biBwcm9kdWN0ZXVyLi4uIiB9XTsKICAgICAgdGhpcy5mb3JtID0gW3sgaWQgOiAiIiwgbmFtZTogIiIsIGZpcnN0TmFtZTogIiIsIGFicjogIiIsIGNvbXBhbnk6ICIiLCBudW1iZXI6ICIiLCByb2FkOiAiIiwgcG9zdENvZGU6ICIiLCB0b3duOiAiIiwgcGhvbmU6ICIiLGdzbTogIiIsICBtYWlsOiAiIiwgYWNjb3VudDogIiIsIHR2YTogIiIgfV07CiAgICAgIHRoaXMuZmV0Y2hQcm9kdWNlcnMoKTsKCiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["AddProducer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgMA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"AddProducer.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  \n    <b-container fluid>\n      <b-row\n        ><b-col cols=\"3\">\n          <b-form-select\n            v-model=\"selectedProducer\"\n            :options=\"producers\"\n            v-on:change=\"changeProducer\"\n            class=\"m-2\"\n          ></b-form-select>\n        </b-col>\n        <b-col cols=\"3\">\n          <b-icon\n                  \n                  @click=\"deleteProducer\"\n                  variant=\"danger\"\n                  icon=\"trash\"\n                  scale=\"1.5\"\n                  aria-hidden=\"true\"\n                  class=\"m-3\"\n                ></b-icon>\n        </b-col>\n      </b-row>\n      \n      <b-form @submit=\"onSubmit\">\n        <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Nom :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"nameId\"\n              v-model=\"form.name\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n        <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Prénom :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"firstNameId\"\n              v-model=\"form.firstName\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n        <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Abréviation :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"abrId\"\n              v-model=\"form.abr\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Entreprise :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"companyId\"\n              v-model=\"form.company\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>N° :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"numberId\"\n              v-model=\"form.number\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Voirie :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"roadId\"\n              v-model=\"form.road\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Code postal :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"postCodeId\"\n              v-model=\"form.postCode\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Localité :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"townId\"\n              v-model=\"form.town\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Téléphone :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"phoneId\"\n              v-model=\"form.phone\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>GSM :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"gsmId\"\n              v-model=\"form.gsm\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Courriel :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"mailId\"\n              v-model=\"form.mail\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label># Compte :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"accountId\"\n              v-model=\"form.account\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label># TVA :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"tvaId\"\n              v-model=\"form.tva\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n\n        <b-button class=\"m-3\" type=\"submit\"  variant=\"primary\">Sauver</b-button>\n       \n      </b-form>\n   \n    </b-container>\n\n</template>\n\n<script>\nimport axios from \"axios\";\n\n\nexport default {\n  components: {},\n  props: [],\n  data() {\n    return {\n      form: [{ id : \"\", name: \"\", firstName: \"\", abr: \"\", company: \"\", number: \"\", road: \"\", postCode: \"\", town: \"\", phone: \"\",gsm: \"\",  mail: \"\", account: \"\", tva: \"\" }],\n      selectedProducer: null,\n      producers: [{ value: null, text: \"Choisir un producteur...\" }]\n    };\n  },\n  mounted() {\n    this.fetchProducers();\n  },\n  methods: {\n    async fetchProducers() {\n      const json = await axios\n        .get(\"/producers\")\n        .then((response) => (this.requests = response.data));\n      json.forEach((element) =>\n        this.producers.push({ value: element.id, text: element.abr })\n      );\n    },\n    async changeProducer(arg) {\n      const json = await axios\n        .get(\"/producers/\" + arg)\n        .then((response) => (this.requests = response.data));\n      this.form= json;        \n    },\n    onSubmit(event) {      \n   \n           axios\n          .post(\n            \"/producers\",\n            JSON.stringify({\n              id: this.form.id,\n              name : this.form.name,\n              firstName : this.form.firstName,\n              abr : this.form.abr,\n              company : this.form.company,\n              number : this.form.number,\n              road : this.form.road,\n              postCode : this.form.postCode,\n              town : this.form.town,\n              phone : this.form.phone,\n              gsm : this.form.gsm,\n              mail : this.form.mail,\n              account : this.form.account,\n              tva : this.form.tva\n            })\n          )\n          .then((response) => (this.requests = response.data));\n\n \n    },\n\n    deleteProducer(){\n      axios.delete(\"/producers/\" + this.selectedProducer);\n      this.producers = [{ value: null, text: \"Choisir un producteur...\" }];\n      this.form = [{ id : \"\", name: \"\", firstName: \"\", abr: \"\", company: \"\", number: \"\", road: \"\", postCode: \"\", town: \"\", phone: \"\",gsm: \"\",  mail: \"\", account: \"\", tva: \"\" }];\n      this.fetchProducers();\n\n    }\n  },\n};\n</script>\n\n<style>\n</style>"]}]}