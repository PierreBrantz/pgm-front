{"remainingRequest":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pan/Dev/maraichage/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pan/Dev/maraichage/src/components/Login.vue","mtime":1636994698870},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEZvcm0sIEZpZWxkLCBFcnJvck1lc3NhZ2UgfSBmcm9tICJ2ZWUtdmFsaWRhdGUiOwppbXBvcnQgKiBhcyB5dXAgZnJvbSAieXVwIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudHM6IHsKICAgIEZvcm0sCiAgICBGaWVsZCwKICAgIEVycm9yTWVzc2FnZSwKICB9LAogIGRhdGEoKSB7CiAgIAogICAvL2NvbnN0IHNjaGVtYSA9IHl1cC5vYmplY3QoKS5zaGFwZSh7CiAgICAgLy8gdXNlcm5hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiVXNlcm5hbWUgaXMgcmVxdWlyZWQhIiksCiAgICAgLy8gcGFzc3dvcmQ6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiUGFzc3dvcmQgaXMgcmVxdWlyZWQhIiksCiAgIC8vIH0pOwoKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgc2NoZW1hLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBsb2dnZWRJbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5sb2dnZWRJbikgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3Byb2ZpbGUiKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUxvZ2luKHVzZXIpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL2xvZ2luIiwgdXNlcikudGhlbigKICAgICAgICAoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3Byb2ZpbGUiKTsKICAgICAgICB9LAogICAgICAgIChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLm1lc3NhZ2UgPQogICAgICAgICAgICAoZXJyb3IucmVzcG9uc2UgJiYKICAgICAgICAgICAgICBlcnJvci5yZXNwb25zZS5kYXRhICYmCiAgICAgICAgICAgICAgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB8fAogICAgICAgICAgICBlcnJvci5tZXNzYWdlIHx8CiAgICAgICAgICAgIGVycm9yLnRvU3RyaW5nKCk7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"col-md-12\">\n    <div class=\"card card-container\">\n      <img\n        id=\"profile-img\"\n        src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n        class=\"profile-img-card\"\n      />\n      <Form @submit=\"handleLogin\" :validation-schema=\"schema\">\n        <div class=\"form-group\">\n          <label for=\"username\">Username</label>\n          <Field name=\"username\" type=\"text\" class=\"form-control\" />\n          <ErrorMessage name=\"username\" class=\"error-feedback\" />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"password\">Password</label>\n          <Field name=\"password\" type=\"password\" class=\"form-control\" />\n          <ErrorMessage name=\"password\" class=\"error-feedback\" />\n        </div>\n\n        <div class=\"form-group\">\n          <button class=\"btn btn-primary btn-block\" :disabled=\"loading\">\n            <span\n              v-show=\"loading\"\n              class=\"spinner-border spinner-border-sm\"\n            ></span>\n            <span>Login</span>\n          </button>\n        </div>\n\n        <div class=\"form-group\">\n          <div v-if=\"message\" class=\"alert alert-danger\" role=\"alert\">\n            {{ message }}\n          </div>\n        </div>\n      </Form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  data() {\n   \n   //const schema = yup.object().shape({\n     // username: yup.string().required(\"Username is required!\"),\n     // password: yup.string().required(\"Password is required!\"),\n   // });\n\n    return {\n      loading: false,\n      message: \"\",\n      schema,\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n  },\n  created() {\n    if (this.loggedIn) {\n      this.$router.push(\"/profile\");\n    }\n  },\n  methods: {\n    handleLogin(user) {\n      this.loading = true;\n\n      this.$store.dispatch(\"auth/login\", user).then(\n        () => {\n          this.$router.push(\"/profile\");\n        },\n        (error) => {\n          this.loading = false;\n          this.message =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n        }\n      );\n    },\n  },\n};\n</script>\n\n<style scoped>\n\n</style>"]}]}