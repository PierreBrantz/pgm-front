{"remainingRequest":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pan/Dev/maraichage/src/components/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pan/Dev/maraichage/src/components/Register.vue","mtime":1636994767415},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEZvcm0sIEZpZWxkLCBFcnJvck1lc3NhZ2UgfSBmcm9tICJ2ZWUtdmFsaWRhdGUiOwppbXBvcnQgKiBhcyB5dXAgZnJvbSAieXVwIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVnaXN0ZXIiLAogIGNvbXBvbmVudHM6IHsKICAgIEZvcm0sCiAgICBGaWVsZCwKICAgIEVycm9yTWVzc2FnZSwKICB9LAogIGRhdGEoKSB7CiAgIAogICAvKmNvbnN0IHNjaGVtYSA9IHl1cC5vYmplY3QoKS5zaGFwZSh7CiAgICAgIHVzZXJuYW1lOiB5dXAKICAgICAgICAuc3RyaW5nKCkKICAgICAgICAucmVxdWlyZWQoIlVzZXJuYW1lIGlzIHJlcXVpcmVkISIpCiAgICAgICAgLm1pbigzLCAiTXVzdCBiZSBhdCBsZWFzdCAzIGNoYXJhY3RlcnMhIikKICAgICAgICAubWF4KDIwLCAiTXVzdCBiZSBtYXhpbXVtIDIwIGNoYXJhY3RlcnMhIiksCiAgICAgIGVtYWlsOiB5dXAKICAgICAgICAuc3RyaW5nKCkKICAgICAgICAucmVxdWlyZWQoIkVtYWlsIGlzIHJlcXVpcmVkISIpCiAgICAgICAgLmVtYWlsKCJFbWFpbCBpcyBpbnZhbGlkISIpCiAgICAgICAgLm1heCg1MCwgIk11c3QgYmUgbWF4aW11bSA1MCBjaGFyYWN0ZXJzISIpLAogICAgICBwYXNzd29yZDogeXVwCiAgICAgICAgLnN0cmluZygpCiAgICAgICAgLnJlcXVpcmVkKCJQYXNzd29yZCBpcyByZXF1aXJlZCEiKQogICAgICAgIC5taW4oNiwgIk11c3QgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzISIpCiAgICAgICAgLm1heCg0MCwgIk11c3QgYmUgbWF4aW11bSA0MCBjaGFyYWN0ZXJzISIpLAogICAgfSk7Ki8KCiAgICByZXR1cm4gewogICAgICBzdWNjZXNzZnVsOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIG1lc3NhZ2U6ICIiLAogICAgICBzY2hlbWEsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC5zdGF0dXMubG9nZ2VkSW47CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLmxvZ2dlZEluKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcHJvZmlsZSIpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlUmVnaXN0ZXIodXNlcikgewogICAgICB0aGlzLm1lc3NhZ2UgPSAiIjsKICAgICAgdGhpcy5zdWNjZXNzZnVsID0gZmFsc2U7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXV0aC9yZWdpc3RlciIsIHVzZXIpLnRoZW4oCiAgICAgICAgKGRhdGEpID0+IHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGRhdGEubWVzc2FnZTsKICAgICAgICAgIHRoaXMuc3VjY2Vzc2Z1bCA9IHRydWU7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5tZXNzYWdlID0KICAgICAgICAgICAgKGVycm9yLnJlc3BvbnNlICYmCiAgICAgICAgICAgICAgZXJyb3IucmVzcG9uc2UuZGF0YSAmJgogICAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSkgfHwKICAgICAgICAgICAgZXJyb3IubWVzc2FnZSB8fAogICAgICAgICAgICBlcnJvci50b1N0cmluZygpOwogICAgICAgICAgdGhpcy5zdWNjZXNzZnVsID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"col-md-12\">\n    <div class=\"card card-container\">\n      <img\n        id=\"profile-img\"\n        src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n        class=\"profile-img-card\"\n      />\n      <Form @submit=\"handleRegister\" :validation-schema=\"schema\">\n        <div v-if=\"!successful\">\n          <div class=\"form-group\">\n            <label for=\"username\">Username</label>\n            <Field name=\"username\" type=\"text\" class=\"form-control\" />\n            <ErrorMessage name=\"username\" class=\"error-feedback\" />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"email\">Email</label>\n            <Field name=\"email\" type=\"email\" class=\"form-control\" />\n            <ErrorMessage name=\"email\" class=\"error-feedback\" />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"password\">Password</label>\n            <Field name=\"password\" type=\"password\" class=\"form-control\" />\n            <ErrorMessage name=\"password\" class=\"error-feedback\" />\n          </div>\n\n          <div class=\"form-group\">\n            <button class=\"btn btn-primary btn-block\" :disabled=\"loading\">\n              <span\n                v-show=\"loading\"\n                class=\"spinner-border spinner-border-sm\"\n              ></span>\n              Sign Up\n            </button>\n          </div>\n        </div>\n      </Form>\n\n      <div\n        v-if=\"message\"\n        class=\"alert\"\n        :class=\"successful ? 'alert-success' : 'alert-danger'\"\n      >\n        {{ message }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\n\nexport default {\n  name: \"Register\",\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  data() {\n   \n   /*const schema = yup.object().shape({\n      username: yup\n        .string()\n        .required(\"Username is required!\")\n        .min(3, \"Must be at least 3 characters!\")\n        .max(20, \"Must be maximum 20 characters!\"),\n      email: yup\n        .string()\n        .required(\"Email is required!\")\n        .email(\"Email is invalid!\")\n        .max(50, \"Must be maximum 50 characters!\"),\n      password: yup\n        .string()\n        .required(\"Password is required!\")\n        .min(6, \"Must be at least 6 characters!\")\n        .max(40, \"Must be maximum 40 characters!\"),\n    });*/\n\n    return {\n      successful: false,\n      loading: false,\n      message: \"\",\n      schema,\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n  },\n  mounted() {\n    if (this.loggedIn) {\n      this.$router.push(\"/profile\");\n    }\n  },\n  methods: {\n    handleRegister(user) {\n      this.message = \"\";\n      this.successful = false;\n      this.loading = true;\n\n      this.$store.dispatch(\"auth/register\", user).then(\n        (data) => {\n          this.message = data.message;\n          this.successful = true;\n          this.loading = false;\n        },\n        (error) => {\n          this.message =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n          this.successful = false;\n          this.loading = false;\n        }\n      );\n    },\n  },\n};\n</script>\n\n<style scoped>\n\n</style>"]}]}