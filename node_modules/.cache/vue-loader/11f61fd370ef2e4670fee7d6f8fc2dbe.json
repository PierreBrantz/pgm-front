{"remainingRequest":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pan/Dev/maraichage/src/views/AddProducer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pan/Dev/maraichage/src/views/AddProducer.vue","mtime":1638368600982},{"path":"/home/pan/Dev/maraichage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiBbXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogW3sgaWQgOiAiIiwgbmFtZTogIiIsIGZpcnN0TmFtZTogIiIsIGFicjogIiIsIGNvbXBhbnk6ICIiLCBudW1iZXI6ICIiLCByb2FkOiAiIiwgcG9zdENvZGU6ICIiLCB0b3duOiAiIiwgcGhvbmU6ICIiLGdzbTogIiIsICBtYWlsOiAiIiwgYWNjb3VudDogIiIsIHR2YTogIiIgfV0sCiAgICAgIHNlbGVjdGVkUHJvZHVjZXI6IG51bGwsCiAgICAgIHByb2R1Y2VyczogW3sgdmFsdWU6IG51bGwsIHRleHQ6ICJDaG9pc2lyIHVuIHByb2R1Y3RldXIuLi4iIH1dCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgICBpZiAoIXRoaXMuY3VycmVudFVzZXIpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgfQogICAgdGhpcy5mZXRjaFByb2R1Y2VycygpOwogIH0sCiAgICBjb21wdXRlZDogewogICAgY3VycmVudFVzZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXI7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBmZXRjaFByb2R1Y2VycygpIHsKICAgICAgY29uc3QganNvbiA9IGF3YWl0IGF4aW9zCiAgICAgICAgLmdldCgiL3Byb2R1Y2VycyIpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiAodGhpcy5yZXF1ZXN0cyA9IHJlc3BvbnNlLmRhdGEpKTsKICAgICAganNvbi5mb3JFYWNoKChlbGVtZW50KSA9PgogICAgICAgIHRoaXMucHJvZHVjZXJzLnB1c2goeyB2YWx1ZTogZWxlbWVudC5pZCwgdGV4dDogZWxlbWVudC5hYnIgfSkKICAgICAgKTsKICAgIH0sCiAgICBhc3luYyBjaGFuZ2VQcm9kdWNlcihhcmcpIHsKICAgICAgY29uc3QganNvbiA9IGF3YWl0IGF4aW9zCiAgICAgICAgLmdldCgiL3Byb2R1Y2Vycy8iICsgYXJnKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gKHRoaXMucmVxdWVzdHMgPSByZXNwb25zZS5kYXRhKSk7CiAgICAgIHRoaXMuZm9ybT0ganNvbjsgICAgICAgIAogICAgfSwKICAgIG9uU3VibWl0KGV2ZW50KSB7ICAgICAgCiAgIAogICAgICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgIi9wcm9kdWNlcnMiLAogICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgaWQ6IHRoaXMuZm9ybS5pZCwKICAgICAgICAgICAgICBuYW1lIDogdGhpcy5mb3JtLm5hbWUsCiAgICAgICAgICAgICAgZmlyc3ROYW1lIDogdGhpcy5mb3JtLmZpcnN0TmFtZSwKICAgICAgICAgICAgICBhYnIgOiB0aGlzLmZvcm0uYWJyLAogICAgICAgICAgICAgIGNvbXBhbnkgOiB0aGlzLmZvcm0uY29tcGFueSwKICAgICAgICAgICAgICBudW1iZXIgOiB0aGlzLmZvcm0ubnVtYmVyLAogICAgICAgICAgICAgIHJvYWQgOiB0aGlzLmZvcm0ucm9hZCwKICAgICAgICAgICAgICBwb3N0Q29kZSA6IHRoaXMuZm9ybS5wb3N0Q29kZSwKICAgICAgICAgICAgICB0b3duIDogdGhpcy5mb3JtLnRvd24sCiAgICAgICAgICAgICAgcGhvbmUgOiB0aGlzLmZvcm0ucGhvbmUsCiAgICAgICAgICAgICAgZ3NtIDogdGhpcy5mb3JtLmdzbSwKICAgICAgICAgICAgICBtYWlsIDogdGhpcy5mb3JtLm1haWwsCiAgICAgICAgICAgICAgYWNjb3VudCA6IHRoaXMuZm9ybS5hY2NvdW50LAogICAgICAgICAgICAgIHR2YSA6IHRoaXMuZm9ybS50dmEKICAgICAgICAgICAgfSkKICAgICAgICAgICkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gKHRoaXMucmVxdWVzdHMgPSByZXNwb25zZS5kYXRhKSk7CgogCiAgICB9LAoKICAgIGRlbGV0ZVByb2R1Y2VyKCl7CiAgICAgIGF4aW9zLmRlbGV0ZSgiL3Byb2R1Y2Vycy8iICsgdGhpcy5zZWxlY3RlZFByb2R1Y2VyKTsKICAgICAgdGhpcy5wcm9kdWNlcnMgPSBbeyB2YWx1ZTogbnVsbCwgdGV4dDogIkNob2lzaXIgdW4gcHJvZHVjdGV1ci4uLiIgfV07CiAgICAgIHRoaXMuZm9ybSA9IFt7IGlkIDogIiIsIG5hbWU6ICIiLCBmaXJzdE5hbWU6ICIiLCBhYnI6ICIiLCBjb21wYW55OiAiIiwgbnVtYmVyOiAiIiwgcm9hZDogIiIsIHBvc3RDb2RlOiAiIiwgdG93bjogIiIsIHBob25lOiAiIixnc206ICIiLCAgbWFpbDogIiIsIGFjY291bnQ6ICIiLCB0dmE6ICIiIH1dOwogICAgICB0aGlzLmZldGNoUHJvZHVjZXJzKCk7CgogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["AddProducer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgMA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"AddProducer.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  \n    <b-container fluid>\n      <b-row\n        ><b-col cols=\"3\">\n          <b-form-select\n            v-model=\"selectedProducer\"\n            :options=\"producers\"\n            v-on:change=\"changeProducer\"\n            class=\"m-2\"\n          ></b-form-select>\n        </b-col>\n        <b-col cols=\"3\">\n          <b-icon\n                  \n                  @click=\"deleteProducer\"\n                  variant=\"danger\"\n                  icon=\"trash\"\n                  scale=\"1.5\"\n                  aria-hidden=\"true\"\n                  class=\"m-3\"\n                ></b-icon>\n        </b-col>\n      </b-row>\n      \n      <b-form @submit=\"onSubmit\">\n        <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Nom :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"nameId\"\n              v-model=\"form.name\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n        <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Prénom :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"firstNameId\"\n              v-model=\"form.firstName\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n        <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Abréviation :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"abrId\"\n              v-model=\"form.abr\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Entreprise :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"companyId\"\n              v-model=\"form.company\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>N° :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"numberId\"\n              v-model=\"form.number\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Voirie :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"roadId\"\n              v-model=\"form.road\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Code postal :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"postCodeId\"\n              v-model=\"form.postCode\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Localité :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"townId\"\n              v-model=\"form.town\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Téléphone :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"phoneId\"\n              v-model=\"form.phone\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>GSM :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"gsmId\"\n              v-model=\"form.gsm\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label>Courriel :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"mailId\"\n              v-model=\"form.mail\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label># Compte :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"accountId\"\n              v-model=\"form.account\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n         <b-row class=\"m-1\">\n          <b-col sm=\"3\">\n            <label># TVA :</label>\n          </b-col>\n          <b-col sm=\"9\">\n            <b-form-input\n              id=\"tvaId\"\n              v-model=\"form.tva\"\n              size=\"sm\"\n            ></b-form-input>\n          </b-col>\n        </b-row>\n\n        <b-button class=\"m-3\" type=\"submit\"  variant=\"primary\">Sauver</b-button>\n       \n      </b-form>\n   \n    </b-container>\n\n</template>\n\n<script>\nimport axios from \"axios\";\n\n\nexport default {\n  components: {},\n  props: [],\n  data() {\n    return {\n      form: [{ id : \"\", name: \"\", firstName: \"\", abr: \"\", company: \"\", number: \"\", road: \"\", postCode: \"\", town: \"\", phone: \"\",gsm: \"\",  mail: \"\", account: \"\", tva: \"\" }],\n      selectedProducer: null,\n      producers: [{ value: null, text: \"Choisir un producteur...\" }]\n    };\n  },\n  mounted() {\n     if (!this.currentUser) {\n      this.$router.push('/login');\n    }\n    this.fetchProducers();\n  },\n    computed: {\n    currentUser() {\n      return this.$store.state.auth.user;\n    }\n  },\n  methods: {\n    async fetchProducers() {\n      const json = await axios\n        .get(\"/producers\")\n        .then((response) => (this.requests = response.data));\n      json.forEach((element) =>\n        this.producers.push({ value: element.id, text: element.abr })\n      );\n    },\n    async changeProducer(arg) {\n      const json = await axios\n        .get(\"/producers/\" + arg)\n        .then((response) => (this.requests = response.data));\n      this.form= json;        \n    },\n    onSubmit(event) {      \n   \n           axios\n          .post(\n            \"/producers\",\n            JSON.stringify({\n              id: this.form.id,\n              name : this.form.name,\n              firstName : this.form.firstName,\n              abr : this.form.abr,\n              company : this.form.company,\n              number : this.form.number,\n              road : this.form.road,\n              postCode : this.form.postCode,\n              town : this.form.town,\n              phone : this.form.phone,\n              gsm : this.form.gsm,\n              mail : this.form.mail,\n              account : this.form.account,\n              tva : this.form.tva\n            })\n          )\n          .then((response) => (this.requests = response.data));\n\n \n    },\n\n    deleteProducer(){\n      axios.delete(\"/producers/\" + this.selectedProducer);\n      this.producers = [{ value: null, text: \"Choisir un producteur...\" }];\n      this.form = [{ id : \"\", name: \"\", firstName: \"\", abr: \"\", company: \"\", number: \"\", road: \"\", postCode: \"\", town: \"\", phone: \"\",gsm: \"\",  mail: \"\", account: \"\", tva: \"\" }];\n      this.fetchProducers();\n\n    }\n  },\n};\n</script>\n\n<style>\n</style>"]}]}