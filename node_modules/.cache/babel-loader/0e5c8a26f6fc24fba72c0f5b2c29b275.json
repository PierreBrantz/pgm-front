{"remainingRequest":"/home/pan/Dev/maraichage/node_modules/babel-loader/lib/index.js!/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pan/Dev/maraichage/src/views/Request.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pan/Dev/maraichage/src/views/Request.vue","mtime":1627544087156},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3Bhbi9EZXYvbWFyYWljaGFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3Bhbi9EZXYvbWFyYWljaGFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgUmVxdWVzdE1vZGFsIGZyb20gIi4uL2NvbXBvbmVudHMvQWRkUHJvZHVjZXJNb2RhbC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgInJlcXVlc3QtbW9kYWwiOiBSZXF1ZXN0TW9kYWwKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiBbewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHF1YW50aXR5OiAwLAogICAgICAgIHN0YXJ0UGVyaW9kOiBudWxsLAogICAgICAgIGVuZFBlcmlvZDogbnVsbAogICAgICB9XSwKICAgICAgY3VycmVudE1vbnRoOiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJyZXF1ZXN0cyJdKSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hSZXF1ZXN0cygpOwogICAgdGhpcy5jdXJyZW50TW9udGggPSB0aGlzLmdldEN1cnJlbnRNb250aCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hSZXF1ZXN0czogZnVuY3Rpb24gZmV0Y2hSZXF1ZXN0cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJmZXRjaFJlcXVlc3RzIiwgewogICAgICAgICAgICAgICAgICBtb250aDogX3RoaXMuZ2V0Q3VycmVudE1vbnRoKCkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0Q3VycmVudE1vbnRoOiBmdW5jdGlvbiBnZXRDdXJyZW50TW9udGgoKSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKTsKICAgIH0sCiAgICBnZXRNb250aE5hbWU6IGZ1bmN0aW9uIGdldE1vbnRoTmFtZShpbmRleCkgewogICAgICB2YXIgbW9udGhzID0gWydKYW52aWVyJywgJ0bDqXZyaWVyJywgJ01hcnMnLCAnQXZyaWwnLCAnTWFpJywgJ0p1aW4nLCAnSnVpbGxldCcsICdBb8O7dCcsICdTZXB0ZW1icmUnLCAnT2N0b2JyZScsICdOb3ZlbWJyZScsICdEw6ljZW1icmUnXTsKICAgICAgcmV0dXJuIG1vbnRoc1tpbmRleF07CiAgICB9LAogICAgc2V0TmV4dE1vbnRoOiBmdW5jdGlvbiBzZXROZXh0TW9udGgoKSB7CiAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gdGhpcy5jdXJyZW50TW9udGggKyAxOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZmV0Y2hSZXF1ZXN0cyIsIHsKICAgICAgICBtb250aDogdGhpcy5jdXJyZW50TW9udGgKICAgICAgfSk7CiAgICB9LAogICAgc2V0UHJldmlvdXNNb250aDogZnVuY3Rpb24gc2V0UHJldmlvdXNNb250aCgpIHsKICAgICAgdGhpcy5jdXJyZW50TW9udGggPSB0aGlzLmN1cnJlbnRNb250aCAtIDE7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJmZXRjaFJlcXVlc3RzIiwgewogICAgICAgIG1vbnRoOiB0aGlzLmN1cnJlbnRNb250aAogICAgICB9KTsKICAgIH0sCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGFyZykgewogICAgICB0aGlzLiRyb290LiRlbWl0KCJidjo6c2hvdzo6bW9kYWwiLCAibW9kYWwtcmVxdWVzdCIsICIjYnRuU2hvdyIpOwogICAgfSwKICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKHJlcXVlc3QpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImRlbGV0ZVJlcXVlc3QiLCB7CiAgICAgICAgcmVxdWVzdDogcmVxdWVzdAogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Request.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,YAAA,MAAA,oCAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,qBAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,EAAA;AAAA,QAAA,QAAA,EAAA,CAAA;AAAA,QAAA,WAAA,EAAA,IAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAAA,CADA;AAEA,MAAA,YAAA,EAAA;AAFA,KAAA;AAIA,GATA;AAUA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,UAAA,CAAA,CADA,CAVA;AAaA,EAAA,OAbA,qBAaA;AACA,SAAA,aAAA;AACA,SAAA,YAAA,GAAA,KAAA,eAAA,EAAA;AAEA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,kBAAA,KAAA,EAAA,KAAA,CAAA,eAAA;AAAA,iBAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KAHA;AAKA,IAAA,eAAA,EAAA,2BAAA;AACA,UAAA,IAAA,GAAA,IAAA,IAAA,EAAA;AACA,aAAA,IAAA,CAAA,QAAA,EAAA;AACA,KARA;AASA,IAAA,YAAA,EAAA,sBAAA,KAAA,EAAA;AAEA,UAAA,MAAA,GAAA,CAAA,SAAA,EAAA,SAAA,EAAA,MAAA,EAAA,OAAA,EAAA,KAAA,EAAA,MAAA,EAAA,SAAA,EAAA,MAAA,EAAA,WAAA,EAAA,SAAA,EAAA,UAAA,EAAA,UAAA,CAAA;AAEA,aAAA,MAAA,CAAA,KAAA,CAAA;AACA,KAdA;AAeA,IAAA,YAfA,0BAeA;AACA,WAAA,YAAA,GAAA,KAAA,YAAA,GAAA,CAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,OAAA;AACA,KAlBA;AAmBA,IAAA,gBAnBA,8BAmBA;AACA,WAAA,YAAA,GAAA,KAAA,YAAA,GAAA,CAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,OAAA;AACA,KAtBA;AAwBA,IAAA,OAAA,EAAA,iBAAA,GAAA,EAAA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,eAAA,EAAA,UAAA;AACA,KA1BA;AA2BA,IAAA,MAAA,EAAA,gBAAA,OAAA,EAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAAA;AACA;AA7BA;AAlBA,CAAA","sourcesContent":["<template>\n  <b-container fluid>\n    <b-row>\n      <b-col class=\"col-md-12 col-sm-12 col-xs-12\">\n        <div>\n        <h3> <b-icon @click.prevent=\"setPreviousMonth()\" icon=\"caret-left\" aria-hidden=\"true\"></b-icon> \n              Demandes pour {{getMonthName(currentMonth)}}  \n              <b-icon @click.prevent=\"setNextMonth()\" icon=\"caret-right\" aria-hidden=\"true\"></b-icon>\n        </h3>\n  \n        </div>\n        <br>\n        <div align=\"left\" v-for=\"request in requests\" :key=\"request.id\">\n            {{ request.name }} : {{ request.quantity }} {{ request.unit }}\n            <b-icon @click.prevent=\"remove(request)\" icon=\"trash\" aria-hidden=\"true\"></b-icon>\n        </div>\n       \n      \n       <b-button class=\"m-3\" @click=\"onClick\" variant=\"primary\"\n              >Ajouter une demande</b-button\n            >\n             <request-modal></request-modal>\n      </b-col>\n    </b-row>\n     \n  </b-container>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport RequestModal from \"../components/AddProducerModal.vue\";\n\nexport default {\n  components: {   \n    \"request-modal\": RequestModal,\n  },\n  data() {\n    return {\n      form:[{name:\"\", quantity: 0, startPeriod: null, endPeriod: null}],\n      currentMonth: 0\n    };\n  },\n  computed:{ \n  ...mapGetters([\"requests\"])\n    },\n  mounted() { \n    this.fetchRequests();\n    this.currentMonth = this.getCurrentMonth();\n   \n  },\n  methods: {\n    async fetchRequests(){   \n     await this.$store.dispatch(\"fetchRequests\",{month : this.getCurrentMonth()}); \n    },\n\n    getCurrentMonth: function(){    \n      const date = new Date();\n      return date.getMonth();\n    },\n    getMonthName: function(index) {\n\n      const months    = ['Janvier','Février','Mars','Avril','Mai','Juin','Juillet','Août','Septembre','Octobre','Novembre','Décembre'];\n    \n      return months[index];\n    },\n    setNextMonth(){\n      this.currentMonth = this.currentMonth + 1;\n       this.$store.dispatch(\"fetchRequests\",{month : this.currentMonth});\n    },\n    setPreviousMonth(){\n      this.currentMonth = this.currentMonth - 1;\n       this.$store.dispatch(\"fetchRequests\",{month : this.currentMonth});\n    },\n\n    onClick: function (arg) {\n      this.$root.$emit(\"bv::show::modal\", \"modal-request\", \"#btnShow\");\n    },\n    remove: function(request){\n      this.$store.dispatch(\"deleteRequest\",{request : request});  \n    }\n  \n  }\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/views"}]}