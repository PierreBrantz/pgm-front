{"remainingRequest":"/home/pan/Dev/maraichage/node_modules/babel-loader/lib/index.js!/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pan/Dev/maraichage/src/views/Request.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pan/Dev/maraichage/src/views/Request.vue","mtime":1633352022183},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3Bhbi9EZXYvbWFyYWljaGFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3Bhbi9EZXYvbWFyYWljaGFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgUmVxdWVzdE1vZGFsIGZyb20gIi4vQWRkUHJvZHVjZXIudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgICJyZXF1ZXN0LW1vZGFsIjogUmVxdWVzdE1vZGFsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogW3sKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBxdWFudGl0eTogMCwKICAgICAgICBzdGFydFBlcmlvZDogbnVsbCwKICAgICAgICBlbmRQZXJpb2Q6IG51bGwKICAgICAgfV0sCiAgICAgIGN1cnJlbnRNb250aDogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsicmVxdWVzdHMiXSkpLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZldGNoUmVxdWVzdHMoKTsKICAgIHRoaXMuY3VycmVudE1vbnRoID0gdGhpcy5nZXRDdXJyZW50TW9udGgoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoUmVxdWVzdHM6IGZ1bmN0aW9uIGZldGNoUmVxdWVzdHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiZmV0Y2hSZXF1ZXN0cyIsIHsKICAgICAgICAgICAgICAgICAgbW9udGg6IF90aGlzLmdldEN1cnJlbnRNb250aCgpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldEN1cnJlbnRNb250aDogZnVuY3Rpb24gZ2V0Q3VycmVudE1vbnRoKCkgewogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIHJldHVybiBkYXRlLmdldE1vbnRoKCk7CiAgICB9LAogICAgZ2V0TW9udGhOYW1lOiBmdW5jdGlvbiBnZXRNb250aE5hbWUoaW5kZXgpIHsKICAgICAgdmFyIG1vbnRocyA9IFsnSmFudmllcicsICdGw6l2cmllcicsICdNYXJzJywgJ0F2cmlsJywgJ01haScsICdKdWluJywgJ0p1aWxsZXQnLCAnQW/Du3QnLCAnU2VwdGVtYnJlJywgJ09jdG9icmUnLCAnTm92ZW1icmUnLCAnRMOpY2VtYnJlJ107CiAgICAgIHJldHVybiBtb250aHNbaW5kZXhdOwogICAgfSwKICAgIHNldE5leHRNb250aDogZnVuY3Rpb24gc2V0TmV4dE1vbnRoKCkgewogICAgICB0aGlzLmN1cnJlbnRNb250aCA9IHRoaXMuY3VycmVudE1vbnRoICsgMTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImZldGNoUmVxdWVzdHMiLCB7CiAgICAgICAgbW9udGg6IHRoaXMuY3VycmVudE1vbnRoCiAgICAgIH0pOwogICAgfSwKICAgIHNldFByZXZpb3VzTW9udGg6IGZ1bmN0aW9uIHNldFByZXZpb3VzTW9udGgoKSB7CiAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gdGhpcy5jdXJyZW50TW9udGggLSAxOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZmV0Y2hSZXF1ZXN0cyIsIHsKICAgICAgICBtb250aDogdGhpcy5jdXJyZW50TW9udGgKICAgICAgfSk7CiAgICB9LAogICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhhcmcpIHsKICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiYnY6OnNob3c6Om1vZGFsIiwgIm1vZGFsLXJlcXVlc3QiLCAiI2J0blNob3ciKTsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShyZXF1ZXN0KSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJkZWxldGVSZXF1ZXN0IiwgewogICAgICAgIHJlcXVlc3Q6IHJlcXVlc3QKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Request.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,YAAA,MAAA,mBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,qBAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,EAAA;AAAA,QAAA,QAAA,EAAA,CAAA;AAAA,QAAA,WAAA,EAAA,IAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAAA,CADA;AAEA,MAAA,YAAA,EAAA;AAFA,KAAA;AAIA,GATA;AAUA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,UAAA,CAAA,CADA,CAVA;AAaA,EAAA,OAbA,qBAaA;AACA,SAAA,aAAA;AACA,SAAA,YAAA,GAAA,KAAA,eAAA,EAAA;AAEA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,kBAAA,KAAA,EAAA,KAAA,CAAA,eAAA;AAAA,iBAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KAHA;AAKA,IAAA,eAAA,EAAA,2BAAA;AACA,UAAA,IAAA,GAAA,IAAA,IAAA,EAAA;AACA,aAAA,IAAA,CAAA,QAAA,EAAA;AACA,KARA;AASA,IAAA,YAAA,EAAA,sBAAA,KAAA,EAAA;AAEA,UAAA,MAAA,GAAA,CAAA,SAAA,EAAA,SAAA,EAAA,MAAA,EAAA,OAAA,EAAA,KAAA,EAAA,MAAA,EAAA,SAAA,EAAA,MAAA,EAAA,WAAA,EAAA,SAAA,EAAA,UAAA,EAAA,UAAA,CAAA;AAEA,aAAA,MAAA,CAAA,KAAA,CAAA;AACA,KAdA;AAeA,IAAA,YAfA,0BAeA;AACA,WAAA,YAAA,GAAA,KAAA,YAAA,GAAA,CAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,OAAA;AACA,KAlBA;AAmBA,IAAA,gBAnBA,8BAmBA;AACA,WAAA,YAAA,GAAA,KAAA,YAAA,GAAA,CAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,OAAA;AACA,KAtBA;AAwBA,IAAA,OAAA,EAAA,iBAAA,GAAA,EAAA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,eAAA,EAAA,UAAA;AACA,KA1BA;AA2BA,IAAA,MAAA,EAAA,gBAAA,OAAA,EAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAAA;AACA;AA7BA;AAlBA,CAAA","sourcesContent":["<template>\n  <b-container fluid>\n    <b-row>\n      <b-col class=\"col-md-12 col-sm-12 col-xs-12\">\n        <div>\n        <h3> <b-icon @click.prevent=\"setPreviousMonth()\" icon=\"caret-left\" aria-hidden=\"true\"></b-icon> \n              Demandes pour {{getMonthName(currentMonth)}}  \n              <b-icon @click.prevent=\"setNextMonth()\" icon=\"caret-right\" aria-hidden=\"true\"></b-icon>\n        </h3>\n  \n        </div>\n        <br>\n        <div align=\"left\" v-for=\"request in requests\" :key=\"request.id\">\n            {{ request.name }} : {{ request.quantity }} {{ request.unit }}\n            <b-icon @click.prevent=\"remove(request)\" icon=\"trash\" aria-hidden=\"true\"></b-icon>\n        </div>\n       \n      \n       <b-button class=\"m-3\" @click=\"onClick\" variant=\"primary\"\n              >Ajouter une demande</b-button\n            >\n             <request-modal></request-modal>\n      </b-col>\n    </b-row>\n     \n  </b-container>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport RequestModal from \"./AddProducer.vue\";\n\nexport default {\n  components: {   \n    \"request-modal\": RequestModal,\n  },\n  data() {\n    return {\n      form:[{name:\"\", quantity: 0, startPeriod: null, endPeriod: null}],\n      currentMonth: 0\n    };\n  },\n  computed:{ \n  ...mapGetters([\"requests\"])\n    },\n  mounted() { \n    this.fetchRequests();\n    this.currentMonth = this.getCurrentMonth();\n   \n  },\n  methods: {\n    async fetchRequests(){   \n     await this.$store.dispatch(\"fetchRequests\",{month : this.getCurrentMonth()}); \n    },\n\n    getCurrentMonth: function(){    \n      const date = new Date();\n      return date.getMonth();\n    },\n    getMonthName: function(index) {\n\n      const months    = ['Janvier','Février','Mars','Avril','Mai','Juin','Juillet','Août','Septembre','Octobre','Novembre','Décembre'];\n    \n      return months[index];\n    },\n    setNextMonth(){\n      this.currentMonth = this.currentMonth + 1;\n       this.$store.dispatch(\"fetchRequests\",{month : this.currentMonth});\n    },\n    setPreviousMonth(){\n      this.currentMonth = this.currentMonth - 1;\n       this.$store.dispatch(\"fetchRequests\",{month : this.currentMonth});\n    },\n\n    onClick: function (arg) {\n      this.$root.$emit(\"bv::show::modal\", \"modal-request\", \"#btnShow\");\n    },\n    remove: function(request){\n      this.$store.dispatch(\"deleteRequest\",{request : request});  \n    }\n  \n  }\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/views"}]}