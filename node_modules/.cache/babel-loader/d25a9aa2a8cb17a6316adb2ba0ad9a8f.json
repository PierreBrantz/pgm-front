{"remainingRequest":"/home/pan/Dev/maraichage/node_modules/babel-loader/lib/index.js!/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pan/Dev/maraichage/src/views/Request.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pan/Dev/maraichage/src/views/Request.vue","mtime":1624028504551},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/pan/Dev/maraichage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pan/Dev/maraichage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3Bhbi9EZXYvbWFyYWljaGFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3Bhbi9EZXYvbWFyYWljaGFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgUmVxdWVzdE1vZGFsIGZyb20gIi4uL2NvbXBvbmVudHMvUmVxdWVzdE1vZGFsLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAicmVxdWVzdC1tb2RhbCI6IFJlcXVlc3RNb2RhbAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IFt7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgcXVhbnRpdHk6IDAsCiAgICAgICAgc3RhcnRQZXJpb2Q6IG51bGwsCiAgICAgICAgZW5kUGVyaW9kOiBudWxsCiAgICAgIH1dLAogICAgICBjdXJyZW50TW9udGg6IDAKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbInJlcXVlc3RzIl0pKSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaFJlcXVlc3RzKCk7CiAgICB0aGlzLmN1cnJlbnRNb250aCA9IHRoaXMuZ2V0Q3VycmVudE1vbnRoKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaFJlcXVlc3RzOiBmdW5jdGlvbiBmZXRjaFJlcXVlc3RzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goImZldGNoUmVxdWVzdHMiLCB7CiAgICAgICAgICAgICAgICAgIG1vbnRoOiBfdGhpcy5nZXRDdXJyZW50TW9udGgoKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRDdXJyZW50TW9udGg6IGZ1bmN0aW9uIGdldEN1cnJlbnRNb250aCgpIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICByZXR1cm4gZGF0ZS5nZXRNb250aCgpOwogICAgfSwKICAgIGdldE1vbnRoTmFtZTogZnVuY3Rpb24gZ2V0TW9udGhOYW1lKGluZGV4KSB7CiAgICAgIHZhciBtb250aHMgPSBbJ0phbnZpZXInLCAnRsOpdnJpZXInLCAnTWFycycsICdBdnJpbCcsICdNYWknLCAnSnVpbicsICdKdWlsbGV0JywgJ0Fvw7t0JywgJ1NlcHRlbWJyZScsICdPY3RvYnJlJywgJ05vdmVtYnJlJywgJ0TDqWNlbWJyZSddOwogICAgICByZXR1cm4gbW9udGhzW2luZGV4XTsKICAgIH0sCiAgICBzZXROZXh0TW9udGg6IGZ1bmN0aW9uIHNldE5leHRNb250aCgpIHsKICAgICAgdGhpcy5jdXJyZW50TW9udGggPSB0aGlzLmN1cnJlbnRNb250aCArIDE7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJmZXRjaFJlcXVlc3RzIiwgewogICAgICAgIG1vbnRoOiB0aGlzLmN1cnJlbnRNb250aAogICAgICB9KTsKICAgIH0sCiAgICBzZXRQcmV2aW91c01vbnRoOiBmdW5jdGlvbiBzZXRQcmV2aW91c01vbnRoKCkgewogICAgICB0aGlzLmN1cnJlbnRNb250aCA9IHRoaXMuY3VycmVudE1vbnRoIC0gMTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImZldGNoUmVxdWVzdHMiLCB7CiAgICAgICAgbW9udGg6IHRoaXMuY3VycmVudE1vbnRoCiAgICAgIH0pOwogICAgfSwKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soYXJnKSB7CiAgICAgIHRoaXMuJHJvb3QuJGVtaXQoImJ2OjpzaG93Ojptb2RhbCIsICJtb2RhbC1yZXF1ZXN0IiwgIiNidG5TaG93Iik7CiAgICB9LAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUocmVxdWVzdCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZGVsZXRlUmVxdWVzdCIsIHsKICAgICAgICByZXF1ZXN0OiByZXF1ZXN0CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Request.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,YAAA,MAAA,gCAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,qBAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,EAAA;AAAA,QAAA,QAAA,EAAA,CAAA;AAAA,QAAA,WAAA,EAAA,IAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAAA,CADA;AAEA,MAAA,YAAA,EAAA;AAFA,KAAA;AAIA,GATA;AAUA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,UAAA,CAAA,CADA,CAVA;AAaA,EAAA,OAbA,qBAaA;AACA,SAAA,aAAA;AACA,SAAA,YAAA,GAAA,KAAA,eAAA,EAAA;AAEA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,kBAAA,KAAA,EAAA,KAAA,CAAA,eAAA;AAAA,iBAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KAHA;AAKA,IAAA,eAAA,EAAA,2BAAA;AACA,UAAA,IAAA,GAAA,IAAA,IAAA,EAAA;AACA,aAAA,IAAA,CAAA,QAAA,EAAA;AACA,KARA;AASA,IAAA,YAAA,EAAA,sBAAA,KAAA,EAAA;AAEA,UAAA,MAAA,GAAA,CAAA,SAAA,EAAA,SAAA,EAAA,MAAA,EAAA,OAAA,EAAA,KAAA,EAAA,MAAA,EAAA,SAAA,EAAA,MAAA,EAAA,WAAA,EAAA,SAAA,EAAA,UAAA,EAAA,UAAA,CAAA;AAEA,aAAA,MAAA,CAAA,KAAA,CAAA;AACA,KAdA;AAeA,IAAA,YAfA,0BAeA;AACA,WAAA,YAAA,GAAA,KAAA,YAAA,GAAA,CAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,OAAA;AACA,KAlBA;AAmBA,IAAA,gBAnBA,8BAmBA;AACA,WAAA,YAAA,GAAA,KAAA,YAAA,GAAA,CAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,OAAA;AACA,KAtBA;AAwBA,IAAA,OAAA,EAAA,iBAAA,GAAA,EAAA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,eAAA,EAAA,UAAA;AACA,KA1BA;AA2BA,IAAA,MAAA,EAAA,gBAAA,OAAA,EAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAAA;AACA;AA7BA;AAlBA,CAAA","sourcesContent":["<template>\n  <b-container fluid>\n    <b-row>\n      <b-col class=\"col-md-12 col-sm-12 col-xs-12\">\n        <div>\n        <h3> <b-icon @click.prevent=\"setPreviousMonth()\" icon=\"caret-left\" aria-hidden=\"true\"></b-icon> \n              Demandes pour {{getMonthName(currentMonth)}}  \n              <b-icon @click.prevent=\"setNextMonth()\" icon=\"caret-right\" aria-hidden=\"true\"></b-icon>\n        </h3>\n  \n        </div>\n        <br>\n        <div align=\"left\" v-for=\"request in requests\" :key=\"request.id\">\n            {{ request.name }} : {{ request.quantity }} {{ request.unit }}\n            <b-icon @click.prevent=\"remove(request)\" icon=\"trash\" aria-hidden=\"true\"></b-icon>\n        </div>\n       \n      \n       <b-button class=\"m-3\" @click=\"onClick\" variant=\"primary\"\n              >Ajouter une demande</b-button\n            >\n             <request-modal></request-modal>\n      </b-col>\n    </b-row>\n     \n  </b-container>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport RequestModal from \"../components/RequestModal.vue\";\n\nexport default {\n  components: {   \n    \"request-modal\": RequestModal,\n  },\n  data() {\n    return {\n      form:[{name:\"\", quantity: 0, startPeriod: null, endPeriod: null}],\n      currentMonth: 0\n    };\n  },\n  computed:{ \n  ...mapGetters([\"requests\"])\n    },\n  mounted() { \n    this.fetchRequests();\n    this.currentMonth = this.getCurrentMonth();\n   \n  },\n  methods: {\n    async fetchRequests(){   \n     await this.$store.dispatch(\"fetchRequests\",{month : this.getCurrentMonth()}); \n    },\n\n    getCurrentMonth: function(){    \n      const date = new Date();\n      return date.getMonth();\n    },\n    getMonthName: function(index) {\n\n      const months    = ['Janvier','Février','Mars','Avril','Mai','Juin','Juillet','Août','Septembre','Octobre','Novembre','Décembre'];\n    \n      return months[index];\n    },\n    setNextMonth(){\n      this.currentMonth = this.currentMonth + 1;\n       this.$store.dispatch(\"fetchRequests\",{month : this.currentMonth});\n    },\n    setPreviousMonth(){\n      this.currentMonth = this.currentMonth - 1;\n       this.$store.dispatch(\"fetchRequests\",{month : this.currentMonth});\n    },\n\n    onClick: function (arg) {\n      this.$root.$emit(\"bv::show::modal\", \"modal-request\", \"#btnShow\");\n    },\n    remove: function(request){\n      this.$store.dispatch(\"deleteRequest\",{request : request});  \n    }\n  \n  }\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/views"}]}